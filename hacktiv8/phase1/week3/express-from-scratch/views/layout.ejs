<!-- views/layout.ejs -->

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Murder on the Orient Express</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  </head>
  <body class="container">
    <header>
    <h3>User Table</h3>
    </header>
    <main>
    <table class="highlight">
      <thead>
        <tr>
          <th>ID</th>
          <th>Username</th>
          <th>Email</th>
          <th>Option</th>
        </tr>
      </thead>
      <tbody>
        <% user.forEach((element) => { %>
        <tr>
          <td><%= element.id%></td>
          <td><%= element.username%></td>
          <td><%= element.email%></td>
          <td><a href="/user/edit/<%=element.id%>" class="btn"><i class="material-icons">mode_edit</i></a></td>
          <td><a class="btn red" onclick="deleteRecord(<%=element.id%>);"><i class="material-icons">delete</i></a></td>
        </tr>
        <% }); %>
      </tbody>
    </table>
    </main>
    <br/>
    <a class="waves-effect waves-light btn blue" href="http://localhost:3000">index</a>
  </body>
  <script type="text/javascript">
    function deleteRecord(id) {
      var ask = window.confirm("Are you sure you want to delete this record?");
      if (ask) {
        window.alert("This record was successfully deleted.");
        document.location.href = '/delete/' + id;
      }
    }
  </script>
</html>
